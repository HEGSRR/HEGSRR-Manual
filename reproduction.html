<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 8 Reproduction | HEGSRR Manual</title>
<meta name="author" content="Peter Kedron">
<meta name="author" content="Joseph Holler">
<meta name="description" content="The whole concept behind open science is that other researchers or students will be able to reproduce, replicate, and extend scientific studies after they are published. This chapter is devoted to...">
<meta name="generator" content="bookdown 0.34 with bs4_book()">
<meta property="og:title" content="Chapter 8 Reproduction | HEGSRR Manual">
<meta property="og:type" content="book">
<meta property="og:description" content="The whole concept behind open science is that other researchers or students will be able to reproduce, replicate, and extend scientific studies after they are published. This chapter is devoted to...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 8 Reproduction | HEGSRR Manual">
<meta name="twitter:description" content="The whole concept behind open science is that other researchers or students will be able to reproduce, replicate, and extend scientific studies after they are published. This chapter is devoted to...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Roboto-0.4.7/font.css" rel="stylesheet">
<link href="libs/Fira_Code-0.4.7/font.css" rel="stylesheet">
<link href="libs/Roboto_Slab-0.4.7/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.5.0/transition.js"></script><script src="libs/bs3compat-0.5.0/tabs.js"></script><script src="libs/bs3compat-0.5.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">HEGSRR Manual</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About</a></li>
<li><a class="" href="reproducible-research-compendia-and-workflows.html">Reproducible research compendia and workflows</a></li>
<li><a class="" href="provocation.html"><span class="header-section-number">1</span> Provocation</a></li>
<li><a class="" href="ideation-and-research-design.html"><span class="header-section-number">2</span> Ideation and Research Design</a></li>
<li><a class="" href="writing-an-analysis-plan-for-preregistration.html"><span class="header-section-number">3</span> Writing an Analysis Plan for Preregistration</a></li>
<li><a class="" href="data-observation-and-curation.html"><span class="header-section-number">4</span> Data Observation and Curation</a></li>
<li><a class="" href="analysis-and-validation.html"><span class="header-section-number">5</span> Analysis and Validation</a></li>
<li><a class="" href="dissemination.html"><span class="header-section-number">6</span> Dissemination</a></li>
<li><a class="" href="preservation.html"><span class="header-section-number">7</span> Preservation</a></li>
<li><a class="active" href="reproduction.html"><span class="header-section-number">8</span> Reproduction</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/HEGSRR/HEGSRR-Manual">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="reproduction" class="section level1" number="8">
<h1>
<span class="header-section-number">8</span> Reproduction<a class="anchor" aria-label="anchor" href="#reproduction"><i class="fas fa-link"></i></a>
</h1>
<p>The whole concept behind open science is that other researchers or students will be able to reproduce, replicate, and extend scientific studies after they are published.
This chapter is devoted to that epilogue: how to engage with a published open science study.
The repurposing of a scientific study will normally start with reproducing the original study results– a process that will differ depending on the computational environment and original materials.
We hope that by standardizing a research template, we will have eased the work of reproducing the study.</p>
<p>This chapter provides some guidance for reproducing a study that is specific to research published with an open science workflow and conforming to version 2.0 or greater of the <a href="https://www.github.com/HEGSRR/HEGSRR-Template">HEGSRR-Template</a>.
The chapter essentially outlines methods for reproducing the computational environment of a prior study.</p>
<div id="our-template" class="section level2" number="8.1">
<h2>
<span class="header-section-number">8.1</span> Our template<a class="anchor" aria-label="anchor" href="#our-template"><i class="fas fa-link"></i></a>
</h2>
<p>Our reproducibility template, which can be found at <a href="https://github.com/HEGSRR/HEGSRR-Template">HEGSRR/HEGSRR-Template</a> on GitHub, is designed to reduce common frustrations when trying to execute a compendium for computational geography.
Here are some tips on recovering the computational environments recorded in packages using our template.</p>
<div id="r" class="section level3" number="8.1.1">
<h3>
<span class="header-section-number">8.1.1</span> R<a class="anchor" aria-label="anchor" href="#r"><i class="fas fa-link"></i></a>
</h3>
<p>R is “a free software environment for statistical computing and graphics”.
To install R, navigate to <a href="https://cloud.r-project.org/" class="uri">https://cloud.r-project.org/</a>.
Additionally, install RStudio (<a href="https://posit.co/downloads/" class="uri">https://posit.co/downloads/</a>), the most popular IDE for R. <a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Jetbrains, &lt;a href="https://www.jetbrains.com/lp/devecosystem-2020/r/"&gt;The State of Developer Ecosystem in 2020&lt;/a&gt; survey&lt;/p&gt;'><sup>1</sup></a></p>
<p>Those looking for a “cloud” solution may want to try out <a href="https://posit.cloud/">Posit Cloud</a>.</p>
<div id="the-groundhog-package" class="section level4" number="8.1.1.1">
<h4>
<span class="header-section-number">8.1.1.1</span> The <code>groundhog</code> package<a class="anchor" aria-label="anchor" href="#the-groundhog-package"><i class="fas fa-link"></i></a>
</h4>
<p>Our template (<a href="https://github.com/HEGSRR/HEGSRR-Template">HEGSRR/HEGSRR-Template</a>) uses the package <code>groundhog</code> (<a href="https://github.com/CredibilityLab/groundhog">CredibilityLab/groundhog</a>) to achieve reproducibility of R scripts.</p>
<p>Given a date and a list of packages needed, <code>groundhog</code> can retrieve the most up-to-date version of both R and these packages on that date.</p>
<p>To recover the list of packages, in the relevant <code>.Rmd</code> file, look for references to <code>groundhog</code>.
This is typically in a code chunk that deals with setup tasks.</p>
<p>As <a href="https://groundhogr.com/using/">recommended</a> by <code>groundhog</code>’s developers, a sensible first step is to change the specified <code>groundhog.day</code> to a reasonably recent date - a date corresponding to your version of R, or a very recent date such as last week.</p>
<p>Then, we can execute the main function, <code>groundhog.library()</code>.
Depending on the date you selected, you may need to install another version of R that was up-to-date on that date.
This is expected, because changes in R itself may impact computational results as well.
You may also need to give <code>groundhog</code> permission to install its packages to a certain folder; for our template, this has been set to <code>data/scratch/groundhog/</code>.</p>
<p>If the code functions as expected, then you are all set!
If not, then we can amend the groundhog day back to the original one;
after installing the correct version of R, <code>groundhog</code> will proceed to install the packages on that date.</p>
<p>See the article <a href="https://support.posit.co/hc/en-us/articles/200486138-Changing-R-versions-for-the-RStudio-Desktop-IDE">Changing R version for the RStudio Desktop IDE</a> for how to tell RStudio to use a specific version of R.</p>
</div>
</div>
<div id="python" class="section level3" number="8.1.2">
<h3>
<span class="header-section-number">8.1.2</span> Python<a class="anchor" aria-label="anchor" href="#python"><i class="fas fa-link"></i></a>
</h3>
<p>Installing Python locally can be somewhat complicated.
In addition to Python, <a href="https://jupyter.org/">Jupyter</a> is also needed to have interactive notebooks.
Tutorials found on the Internet also frequently mention <a href="https://docs.conda.io/en/latest/">conda</a>, a package manager; <a href="https://stackoverflow.com/a/43197286">additional packages</a> such as <code>ipykernel</code> or <code>nb_conda_kernels</code> may also be needed.</p>
<p>As an alternative, <a href="https://datasciencenotebook.org/">many platforms</a> offer a “cloud” notebook that requires minimal setup.
Additional benefits of these cloud notebooks <em>may</em> include:</p>
<ul>
<li>Disposable environment (see the <a href="#disposable-environment%3E">Disposable environment</a> section below)</li>
<li>No hardware requirement for the user</li>
<li>Access to premium hardware for more computational power, usually at a cost</li>
<li>Share and collaborate with others</li>
</ul>
<div id="the-pigar-package" class="section level4" number="8.1.2.1">
<h4>
<span class="header-section-number">8.1.2.1</span> The <code>pigar</code> package<a class="anchor" aria-label="anchor" href="#the-pigar-package"><i class="fas fa-link"></i></a>
</h4>
<p>For Python, our template (<a href="https://github.com/HEGSRR/HEGSRR-Template">HEGSRR/HEGSRR-Template</a>) uses the package <code>pigar</code> (<a href="https://github.com/damnever/pigar">damnever/pigar</a>) to generate a list of packages needed.</p>
<p>The generated list is named <code>requirements.txt</code>, and can be found under <code>procedure/environment/</code>.</p>
</div>
<div id="disposable-environment" class="section level4" number="8.1.2.2">
<h4>
<span class="header-section-number">8.1.2.2</span> Disposable environment<a class="anchor" aria-label="anchor" href="#disposable-environment"><i class="fas fa-link"></i></a>
</h4>
<p>Installing packages, even from <code>pip</code>, can make your system environment messy.</p>
<p>Fortunately, disposable environments are available so that one does not have to worry about leaving a messy system behind.
One example is <a href="https://colab.google/">Google Colab</a>, where one is given a fresh machine whenever one connects to a Jupyter runtime.</p>
<p>If you are using such an environment, then simply run the following code (in Jupyter) to install the required packages:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="reproduction.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install <span class="op">-</span>r <span class="op">/</span>path<span class="op">/</span>to<span class="op">/</span>requirements.txt</span></code></pre></div>
</div>
<div id="package-management" class="section level4" number="8.1.2.3">
<h4>
<span class="header-section-number">8.1.2.3</span> Package management<a class="anchor" aria-label="anchor" href="#package-management"><i class="fas fa-link"></i></a>
</h4>
<p>However, if you are working on a personal laptop, departmental machine, or another non-disposable environment, then keeping the system tidy is desirable.</p>
<p>In this case, before installing all the packages listed inside <code>requirements.txt</code>, a “virtual environment” should be created.
With a virtual environment, no changes are made at the system-level.
Python’s own <a href="https://docs.python.org/3/library/venv.html">venv</a> and <a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">conda</a> are two common approaches.</p>
<p>Here is a tutorial from the website RealPython that walks you through using, as well as motivates, venv: <a href="https://realpython.com/python-virtual-environments-a-primer/">Python Virtual Environments: A Primer</a></p>
</div>
</div>
</div>
<div id="other-compendiums" class="section level2" number="8.2">
<h2>
<span class="header-section-number">8.2</span> Other compendiums<a class="anchor" aria-label="anchor" href="#other-compendiums"><i class="fas fa-link"></i></a>
</h2>
<div id="r-1" class="section level3" number="8.2.1">
<h3>
<span class="header-section-number">8.2.1</span> R<a class="anchor" aria-label="anchor" href="#r-1"><i class="fas fa-link"></i></a>
</h3>
</div>
<div id="python-1" class="section level3" number="8.2.2">
<h3>
<span class="header-section-number">8.2.2</span> Python<a class="anchor" aria-label="anchor" href="#python-1"><i class="fas fa-link"></i></a>
</h3>
</div>
<div id="docker" class="section level3" number="8.2.3">
<h3>
<span class="header-section-number">8.2.3</span> Docker<a class="anchor" aria-label="anchor" href="#docker"><i class="fas fa-link"></i></a>
</h3>
</div>
</div>
<div id="acknowledgement" class="section level2" number="8.3">
<h2>
<span class="header-section-number">8.3</span> Acknowledgement<a class="anchor" aria-label="anchor" href="#acknowledgement"><i class="fas fa-link"></i></a>
</h2>
<p>Special thanks to Yifei Luo for contributions to this chapter.</p>

</div>
</div>







  <div class="chapter-nav">
<div class="prev"><a href="preservation.html"><span class="header-section-number">7</span> Preservation</a></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#reproduction"><span class="header-section-number">8</span> Reproduction</a></li>
<li>
<a class="nav-link" href="#our-template"><span class="header-section-number">8.1</span> Our template</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#r"><span class="header-section-number">8.1.1</span> R</a></li>
<li><a class="nav-link" href="#python"><span class="header-section-number">8.1.2</span> Python</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#other-compendiums"><span class="header-section-number">8.2</span> Other compendiums</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-1"><span class="header-section-number">8.2.1</span> R</a></li>
<li><a class="nav-link" href="#python-1"><span class="header-section-number">8.2.2</span> Python</a></li>
<li><a class="nav-link" href="#docker"><span class="header-section-number">8.2.3</span> Docker</a></li>
</ul>
</li>
<li><a class="nav-link" href="#acknowledgement"><span class="header-section-number">8.3</span> Acknowledgement</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/HEGSRR/HEGSRR-Manual/blob/main/07-reproduction.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/HEGSRR/HEGSRR-Manual/edit/main/07-reproduction.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>HEGSRR Manual</strong>" was written by Peter Kedron, Joseph Holler. It was last built on 2023-07-18.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
